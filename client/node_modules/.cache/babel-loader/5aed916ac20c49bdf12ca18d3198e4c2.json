{"ast":null,"code":"import { ShopActionTypes } from './shop.types';\nimport { firestore, convertCollectionsSnapshotToMap } from '../../firebase/firebase.utils';\nexport var fetchCollectionsStart = function fetchCollectionsStart() {\n  return {\n    type: ShopActionTypes.FETCH_COLLECTIONS_START\n  };\n};\nexport var fetchCollectionsSuccess = function fetchCollectionsSuccess(collectionsMap) {\n  return {\n    type: ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,\n    payload: collectionsMap\n  };\n};\nexport var fetchCollectionsFailure = function fetchCollectionsFailure(errorMsg) {\n  return {\n    type: ShopActionTypes.fetchCollectionsFailure,\n    payload: errorMsg\n  };\n};\nexport var fetchCollectionsStartAsync = function fetchCollectionsStartAsync() {\n  return function (dispatch) {\n    var collectionRef = firestore.collection(\"collections\");\n    dispatch(fetchCollectionsStart());\n    collectionRef.get().then(function (snapshot) {\n      var collectionsMap = convertCollectionsSnapshotToMap(snapshot);\n      dispatch(fetchCollectionsSuccess(collectionsMap));\n    }).catch(function (error) {\n      return dispatch(fetchCollectionsFailure(error.message));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/javieralejandroamorosigomez/Desktop/Javier/Proyectos/react/react-tutorial/src/redux/shop/shop.actions.js"],"names":["ShopActionTypes","firestore","convertCollectionsSnapshotToMap","fetchCollectionsStart","type","FETCH_COLLECTIONS_START","fetchCollectionsSuccess","collectionsMap","FETCH_COLLECTIONS_SUCCESS","payload","fetchCollectionsFailure","errorMsg","fetchCollectionsStartAsync","dispatch","collectionRef","collection","get","then","snapshot","catch","error","message"],"mappings":"AAAA,SAASA,eAAT,QAAgC,cAAhC;AACA,SAASC,SAAT,EAAoBC,+BAApB,QAA2D,+BAA3D;AAEA,OAAO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAK;AACtC,SAAO;AACHC,IAAAA,IAAI,EAAGJ,eAAe,CAACK;AADpB,GAAP;AAGH,CAJM;AAMP,OAAO,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,CAAAC,cAAc,EAAI;AACrD,SAAO;AACHH,IAAAA,IAAI,EAAGJ,eAAe,CAACQ,yBADpB;AAEHC,IAAAA,OAAO,EAAGF;AAFP,GAAP;AAIH,CALM;AAOP,OAAO,IAAMG,uBAAuB,GAAG,SAA1BA,uBAA0B,CAAAC,QAAQ,EAAI;AAC/C,SAAM;AACFP,IAAAA,IAAI,EAAGJ,eAAe,CAACU,uBADrB;AAEFD,IAAAA,OAAO,EAAEE;AAFP,GAAN;AAIH,CALM;AAOP,OAAO,IAAMC,0BAA0B,GAAG,SAA7BA,0BAA6B,GAAM;AAC5C,SAAO,UAAAC,QAAQ,EAAI;AAEf,QAAMC,aAAa,GAAGb,SAAS,CAACc,UAAV,CAAqB,aAArB,CAAtB;AACAF,IAAAA,QAAQ,CAACV,qBAAqB,EAAtB,CAAR;AACAW,IAAAA,aAAa,CAACE,GAAd,GAAoBC,IAApB,CACI,UAAAC,QAAQ,EAAI;AACR,UAAMX,cAAc,GAAIL,+BAA+B,CAACgB,QAAD,CAAvD;AACAL,MAAAA,QAAQ,CAACP,uBAAuB,CAACC,cAAD,CAAxB,CAAR;AAEH,KALL,EAMEY,KANF,CAMQ,UAAAC,KAAK;AAAA,aAAIP,QAAQ,CAACH,uBAAuB,CAACU,KAAK,CAACC,OAAP,CAAxB,CAAZ;AAAA,KANb;AAQH,GAZD;AAaH,CAdM","sourcesContent":["import { ShopActionTypes } from './shop.types';\nimport { firestore, convertCollectionsSnapshotToMap } from '../../firebase/firebase.utils';\n\nexport const fetchCollectionsStart = ()=> {\n    return {\n        type : ShopActionTypes.FETCH_COLLECTIONS_START\n    }\n}\n\nexport const fetchCollectionsSuccess = collectionsMap => {\n    return {\n        type : ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,\n        payload : collectionsMap\n    }\n}\n\nexport const fetchCollectionsFailure = errorMsg => {\n    return{\n        type : ShopActionTypes.fetchCollectionsFailure,\n        payload: errorMsg\n    }\n}\n\nexport const fetchCollectionsStartAsync = () => {\n    return dispatch => {\n       \n        const collectionRef = firestore.collection(\"collections\");\n        dispatch(fetchCollectionsStart());\n        collectionRef.get().then(\n            snapshot => {\n                const collectionsMap =  convertCollectionsSnapshotToMap(snapshot);\n                dispatch(fetchCollectionsSuccess(collectionsMap));\n\n            }\n        ).catch(error => dispatch(fetchCollectionsFailure(error.message)))\n\n    }\n}"]},"metadata":{},"sourceType":"module"}